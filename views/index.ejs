<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/static/fontawesome/css/all.css' />
    <!-- development version, includes helpful console warnings -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body class="bg-raspberry text-dark text-xl my-10 mx-10">
	<div class="container mx-auto">
		<div class="flex flex-col">
			<div id="logo">
				<img class="h-32 w-auto mx-auto" alt="A raspberry sour logo" src="/images/raspberry-sour-logo.png">
			</div>
			<div id="app">
				<div class="my-10">
					<p>Hello and welcome to <strong class="font-bold">Raspberry Sour</strong>, a small web application used to control the <a href="#" class="underline hover:no-underline">DYI Arduino Fermenting Cooler</a>.</p>
					<p>Here you will be able to start timed cycles that sets different tempratures throughout the fermentation process. While the fermentation is ongoing you are able to follow the active fermentation in the temperature log below.</p>
				</div>

				<!-- Active fermentation -->
  				<div class="my-10 bg-white shadow-xl p-5 py-3 rounded-lg">
  					<h1 class="text-xl font-bold">Active fermentation</h1>
  					<div class="my-5 text-base">
  						<p>The temperature in the cooler is now <strong class="font-bold">°</strong> celcius.</p>
  					</div>
  					<h3 class="text-base font-bold mt-10 my-5">Logged temperatures</h3>
  					<ul class="text-base border-b mb-5">
  						<li v-for="log in logs" class="flex justify-between py-3 border-t">
  							<span>{{log.datetime | moment}}</span>
  							<span>{{log.temp}}° celcius</span>
  						</li>
  						<li v-if="logs.length < 1" class="flex justify-between py-3 border-t text-gray-500">
  							No logged temperatures yet!
  						</li>
  					</ul>
  				</div>

				<!-- Recipes -->
  				<div class="my-10 bg-white shadow-xl p-5 py-3 rounded-lg">
  					<h1 class="text-xl font-bold">My recipes</h1>
  					<ul class="text-base border-b my-5">
  						<li v-for="recipe in recipes" class="flex justify-between py-3 border-t cursor-pointer hover:text-gray-500" v-on:click="setActivatedRecipe(recipe.id)">
  							<span>{{recipe.name}}</span>
  							<span v-if="!recipe.activated"><i class="fas fa-play"></i></span>
  							<span v-if="recipe.activated"><i class="fas fa-atom animate-spin"></i></span>
  						</li>
  						<li v-if="logs.length < 1" class="flex justify-between py-3 border-t text-gray-500">
  							No logged temperatures yet!
  						</li>
  					</ul>
  				</div>

			</div>
			<footer class="mt-10 text-sm font-bold opacity-25 text-center">
				<a href="https://kopimi.com/" target="_blank" rel="nofollow">☭ kopimi</a>
			</footer>
    	</div>
    </div>
	<script src="/javascripts/script.js"></script>
  </body>
</html>
